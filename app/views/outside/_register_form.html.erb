<div class="register-form">
    <div class="block-button login-with-twitter">
        <%= link_to({action: 'twitter_login'}, {class: 'btn btn-primary', :id => "twitter_login_button"}) do %>
            <div class="block-button-title">Login with Twitter</div>
        <% end %>
    </div>
    <div class="login-register-form">
        <div class="form-title">Or create an account</div>
        <%= form_for :user, url: {action: 'register'}, :html => {:'data-form-name' => 'login_register_form'} do |f| %>
            <div class="input-prepend input-block-level">
                <span class="add-on"><i class="icon-envelope-alt"></i></span>
                <%= f.text_field :email, placeholder: 'Email', class: 'input-block-level' %>
            </div>
            <% if @user && !@user.errors[:email].empty? %>
                <% @user.errors[:email].each do |m| %>
                    <span class="help-block alert alert-error"><%= m %></span>
                <% end %>
            <% end %>
            <div class="input-prepend input-block-level">
                <span class="add-on"><i class="icon-key"></i></span>
                <%= f.password_field :password, placeholder: 'Password', class: 'input-block-level' %>
            </div>
            <div class="input-prepend input-block-level">
                <span class="add-on"><i class="icon-ok"></i></span>
                <%= f.password_field :password_confirmation, placeholder: 'Confirm Password', class: 'input-block-level' %>
            </div>
            <% if @user && !@user.errors[:password].empty? %>
                <% @user.errors[:password].each do |m| %>
                    <span class="help-block alert alert-error"><%= m %></span>
                <% end %>
            <% end %>
            <% if @user && !@user.errors[:password_confirmation].empty? %>
                <% @user.errors[:password_confirmation].each do |m| %>
                    <span class="help-block alert alert-error"><%= m %></span>
                <% end %>
            <% end %>
            <% if @user && @user.errors[:password].empty? && @user.errors[:password_confirmation].empty? %>
                <span class="help-block">Password has to be within 6 to 40 characters long.</span>
            <% end %>
            <%= f.submit 'Register', class: 'btn btn-block btn-large btn-primary' %>
        <% end %>
    </div>
</div>
